(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,s,t){},47:function(e,s,t){},48:function(e,s,t){},58:function(e,s,t){},79:function(e,s,t){},80:function(e,s,t){},81:function(e,s,t){},82:function(e,s,t){},84:function(e,s,t){"use strict";t.r(s);var a=t(0),c=t.n(a),n=t(14),o=t.n(n),i=(t(46),t(47),t(5)),r=t(4),l=(t(48),t(6)),d=t(1);var j=function(){const{name:e,isAuthenticated:s}=Object(l.c)(e=>e);return Object(d.jsx)("div",{className:"home",children:s?Object(d.jsxs)("div",{className:"home__left",children:[Object(d.jsxs)("h1",{children:[" Welcome ",Object(d.jsxs)("span",{className:"name",children:[" ",e," "]})," "]}),Object(d.jsx)("p",{children:" Hope you are doing well. "}),Object(d.jsx)(i.b,{to:"/passwords",children:" See your passwords "})]}):Object(d.jsxs)("div",{className:"home__left",children:[Object(d.jsxs)("h1",{children:[" Welcome to ",Object(d.jsx)("span",{className:"name",children:" Password Manager "})," "]}),Object(d.jsx)("p",{children:" The best and secure way to save your passwords. "}),Object(d.jsx)(i.b,{to:"/signup",children:" SignUp Now "})]})})},b=t(8),p=(t(58),t.p+"static/media/login.36716951.jpg"),h=t(7),u=(t(21),t(37));const O=t.n(u).a.create({baseURL:"http://localhost:8000",headers:{Accept:"application/json","Content-Type":"application/json"},withCredentials:!0}),m=()=>O.get("/authenticate"),x=e=>O.post("/deletepassword",e),g=e=>({type:"SET_AUTH",payload:e}),v=e=>({type:"SET_PASSWORDS",payload:e});var w=function(){const e=Object(l.c)(e=>e.isAuthenticated),s=Object(r.f)(),t=Object(l.b)(),[c,n]=Object(a.useState)({email:"",password:""}),o=e=>{const{name:s,value:t}=e.target;n(e=>Object(b.a)(Object(b.a)({},e),{},{[s]:t}))};return Object(a.useEffect)(()=>{e&&s.replace("/")},[e,s]),Object(d.jsxs)("div",{className:"login",children:[Object(d.jsx)(h.a,{}),Object(d.jsxs)("div",{className:"login__wrapper",children:[Object(d.jsxs)("div",{className:"login_left",children:[Object(d.jsxs)("div",{className:"inputs",children:[Object(d.jsx)("label",{htmlFor:"email",children:"Email"}),Object(d.jsx)("input",{id:"email",type:"email",placeholder:"Email",name:"email",value:c.email,onChange:o,autoComplete:"off",required:!0})]}),Object(d.jsxs)("div",{className:"inputs",children:[Object(d.jsx)("label",{htmlFor:"password",children:"Password"}),Object(d.jsx)("input",{id:"password",type:"password",placeholder:"Password",name:"password",value:c.password,onChange:o,required:!0})]}),Object(d.jsxs)("p",{children:["Don't have an account? ",Object(d.jsx)(i.b,{to:"/signup",children:"Signup"})]}),Object(d.jsx)("button",{type:"button",onClick:async()=>{try{const e=await(o=c,O.post("/login",o));200===e.status&&(t(g(!0)),h.b.success(e.data.message,{position:"top-right",autoClose:3e3}),s.push("/"))}catch(i){var e,a,n;console.log((null===(e=i.response)||void 0===e?void 0:e.data)||i),h.b.error((null===(a=i.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||"Login failed",{position:"top-right",autoClose:5e3})}var o},children:"Login"})]}),Object(d.jsxs)("div",{className:"login_right",children:[Object(d.jsx)("img",{src:p,alt:"login"}),Object(d.jsxs)("div",{className:"login__content",children:[Object(d.jsx)("h1",{children:"Login"}),Object(d.jsx)("h4",{children:"Get your password secured with us for free."}),Object(d.jsxs)("p",{children:["Don't have an account? ",Object(d.jsx)(i.b,{to:"/signup",children:"Signup"})]}),Object(d.jsx)("a",{className:"attr",href:"https://www.freepik.com/vectors/star",target:"_blank",rel:"noreferrer",children:"Star vector created by vectorpouch - www.freepik.com"})]})]})]})]})},f=t(16),y=t(15);t(79);var N=function(){const e=Object(l.c)(e=>e.isAuthenticated),s=Object(a.useRef)(),[t,c]=Object(a.useState)(!1),n=()=>{c(!t),s.current.style.transform=t?"translateX(0px)":"translateX(-100%)"};return Object(d.jsxs)("nav",{className:"navbar",children:[Object(d.jsx)("div",{className:"navbar__left",children:Object(d.jsxs)("h2",{children:[" ",Object(d.jsx)(i.b,{to:"/",children:" Password Manager "})," "]})}),Object(d.jsxs)("div",{className:"navbar__right",children:[Object(d.jsx)("div",{className:"right__menu",children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"/",children:"Home"})}),e?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"/passwords",children:"Passwords"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"/logout",children:"Logout"})})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"/signin",children:"SignIn"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"/signup",children:"SignUp"})})]})]})}),Object(d.jsx)(f.a,{icon:y.b,className:"menu__icon",onClick:n})]}),Object(d.jsxs)("div",{className:"phone__nav",ref:s,children:[Object(d.jsx)("div",{className:"back",children:Object(d.jsx)(f.a,{icon:y.a,className:"back__button",onClick:n})}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(i.b,{to:"/",onClick:n,children:"Home"})}),e?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{className:"nav-item",onClick:n,children:Object(d.jsx)(i.b,{to:"/passwords",children:"Passwords"})}),Object(d.jsx)("li",{className:"nav-item",onClick:n,children:Object(d.jsx)(i.b,{to:"/logout",children:"Logout"})})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{className:"nav-item",onClick:n,children:Object(d.jsx)(i.b,{to:"/signin",children:"SignIn"})}),Object(d.jsx)("li",{className:"nav-item",onClick:n,children:Object(d.jsx)(i.b,{to:"/signup",children:"SignUp"})})]})]})]})]})},_=(t(80),t.p+"static/media/signup.3767a42c.jpg"),C=t(38),S=t.n(C);var E=function(){const e=Object(l.c)(e=>e.isAuthenticated),s=Object(r.f)(),[t,c]=Object(a.useState)(!1),[n,o]=Object(a.useState)({name:"",email:"",password:"",cpassword:""}),j=e=>{const{name:s,value:t}=e.target;o(e=>Object(b.a)(Object(b.a)({},e),{},{[s]:t}))};return Object(a.useEffect)(()=>{e&&s.replace("/")},[e,s]),Object(d.jsxs)("div",{className:"signup",children:[Object(d.jsx)(h.a,{}),Object(d.jsxs)("div",{className:"signup__wrapper",children:[Object(d.jsxs)("div",{className:"signup__left",children:[Object(d.jsxs)("div",{className:"inputs",children:[Object(d.jsx)("label",{htmlFor:"name",children:"Full Name"}),Object(d.jsx)("input",{id:"name",type:"text",placeholder:"Full Name",name:"name",autoComplete:"off",onChange:j,value:n.name,required:!0})]}),Object(d.jsxs)("div",{className:"inputs",children:[Object(d.jsx)("label",{htmlFor:"email",children:"Email"}),Object(d.jsx)("input",{id:"email",type:"email",placeholder:"Email",name:"email",autoComplete:"off",onChange:j,value:n.email,required:!0})]}),Object(d.jsxs)("div",{className:"inputs",children:[Object(d.jsx)("label",{htmlFor:"password",children:"Password"}),Object(d.jsx)("input",{id:"password",type:"password",placeholder:"Password",name:"password",onChange:j,value:n.password,required:!0})]}),Object(d.jsxs)("div",{className:"inputs",children:[Object(d.jsx)("label",{htmlFor:"cpassword",children:"Confirm Password"}),Object(d.jsx)("input",{id:"cpassword",type:"password",placeholder:"Confirm Password",name:"cpassword",onChange:j,value:n.cpassword,required:!0})]}),Object(d.jsxs)("p",{children:["Already have an account? ",Object(d.jsx)(i.b,{to:"/signin",children:"Login"})]}),t&&Object(d.jsx)(S.a,{type:"balls",color:"#ff1f5a",height:20,width:20}),Object(d.jsx)("button",{type:"button",onClick:async()=>{c(!0);try{var e;const t=await(r=n,O.post("/register",r));null!==(e=t.data)&&void 0!==e&&e.error?h.b.error(t.data.error,{position:"top-right",autoClose:5e3}):201===t.status&&(h.b.success(t.data.message,{position:"top-right",autoClose:5e3}),o({name:"",email:"",password:"",cpassword:""}),s.push("/signin"))}catch(l){var t,a,i;console.log((null===(t=l.response)||void 0===t?void 0:t.data)||l),h.b.error((null===(a=l.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.error)||"Signup failed",{position:"top-right",autoClose:5e3})}finally{c(!1)}var r},children:"SignUp"})]}),Object(d.jsxs)("div",{className:"signup__right",children:[Object(d.jsx)("img",{src:_,alt:"signup"}),Object(d.jsxs)("div",{className:"signup__content",children:[Object(d.jsx)("h1",{children:"SignUp"}),Object(d.jsx)("h4",{children:"Get your password secured with us for free."}),Object(d.jsxs)("p",{children:["Already have an account? ",Object(d.jsx)(i.b,{to:"/signin",children:"Login"})]}),Object(d.jsx)("a",{className:"attr",href:"https://www.freepik.com/vectors/star",target:"_blank",rel:"noreferrer",children:"Star vector created by vectorpouch - www.freepik.com"})]})]})]})]})};t(81);var k=function(e){let{id:s,name:t,password:c,email:n,iv:o}=e;const[i,r]=Object(a.useState)(!1),[j,b]=Object(a.useState)(""),p=Object(l.b)(),u=async()=>{try{const e=await x({id:s});400===e.status?h.b.error(e.data.error,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):200===e.status&&(p((e=>({type:"DEL_PASS",payload:e}))(s)),h.b.success(e.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))}catch(e){console.log(e)}};return Object(d.jsxs)("div",{className:"password",children:[Object(d.jsx)(h.a,{}),Object(d.jsxs)("div",{className:"media",children:[Object(d.jsx)("i",{className:"fab fa-".concat(t.toLowerCase())}),Object(d.jsxs)("h3",{className:"password__name",children:[" ",t," "]}),Object(d.jsx)(f.a,{className:"delete__btn1",onClick:u,icon:y.d})]}),Object(d.jsx)("div",{className:"email",children:Object(d.jsxs)("p",{children:[" ",n," "]})}),Object(d.jsxs)("div",{className:"user-password",children:[Object(d.jsx)("input",{type:i?"text":"password",value:j,disabled:!0}),Object(d.jsx)(f.a,{icon:y.c,onClick:async()=>{try{if(i)r(!i);else{const s=await(e={iv:o,encryptedPassword:c},O.post("/decrypt",e));200===s.status&&(b(s.data),r(!i))}}catch(s){console.log(s)}var e}})]}),Object(d.jsx)(f.a,{className:"delete__btn2",onClick:u,icon:y.d})]})},A=(t(82),t(83),t(39));var P=function(){const[e,s]=Object(a.useState)(""),[t,c]=Object(a.useState)(""),[n,o]=Object(a.useState)(""),[i,j]=Object(a.useState)(!1),b=Object(r.f)(),p=Object(l.b)(),{isAuthenticated:u,name:w,email:f,passwords:y}=Object(l.c)(e=>e),N=Object(a.useCallback)(async()=>{try{const e=await m();200===e.status?p(v(e.data.passwords||[])):p(g(!1))}catch(e){console.log(e),p(g(!1))}},[p]);Object(a.useEffect)(()=>{u?N():b.replace("/signin")},[u,b,N]);const _=async e=>{try{const s=await x({id:e});200===s.status?(h.b.success(s.data.message,{position:"top-right",autoClose:5e3}),p(v(s.data.passwords||[]))):h.b.error(s.data.error||"Could not delete password",{position:"top-right",autoClose:5e3})}catch(s){console.log(s),h.b.error("Failed to delete password",{position:"top-right",autoClose:5e3})}};return Object(d.jsxs)("div",{className:"passwords",children:[Object(d.jsx)(h.a,{}),Object(d.jsxs)("h1",{children:["Welcome ",Object(d.jsx)("span",{className:"name",children:w})]}),Object(d.jsxs)("div",{className:"modal",children:[Object(d.jsx)("button",{className:"modalButton",type:"button",onClick:()=>j(!0),children:"Add New Password"}),Object(d.jsxs)(A.a,{open:i,onClose:()=>j(!1),children:[Object(d.jsx)("h2",{children:"Add a new password"}),Object(d.jsxs)("form",{className:"form",children:[Object(d.jsxs)("div",{className:"form__inputs",children:[Object(d.jsx)("label",{htmlFor:"platform",children:"Platform"}),Object(d.jsx)("input",{id:"platform",type:"text",placeholder:"E.g. Facebook",value:e,onChange:e=>s(e.target.value),required:!0})]}),Object(d.jsxs)("div",{className:"form__inputs",children:[Object(d.jsx)("label",{htmlFor:"platEmail",children:"Email"}),Object(d.jsx)("input",{id:"platEmail",type:"email",placeholder:"E.g. user@gmail.com",value:t,onChange:e=>c(e.target.value),required:!0})]}),Object(d.jsxs)("div",{className:"form__inputs",children:[Object(d.jsx)("label",{htmlFor:"platPass",children:"Password"}),Object(d.jsx)("input",{id:"platPass",type:"password",placeholder:"Password",value:n,onChange:e=>o(e.target.value),required:!0})]}),Object(d.jsx)("button",{type:"button",onClick:async a=>{a.preventDefault();try{const a={platform:e,userPass:n,platEmail:t,userEmail:f},i=await(e=>O.post("/addnewpassword",e))(a);200===i.status?(h.b.success(i.data.message,{position:"top-right",autoClose:5e3}),p(v(i.data.passwords||[])),j(!1),s(""),c(""),o("")):h.b.error(i.data.error||"Could not add password",{position:"top-right",autoClose:5e3})}catch(i){console.log(i),h.b.error("Failed to add password",{position:"top-right",autoClose:5e3})}},children:"Add"})]})]})]}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{className:"passwords__list",children:(null===y||void 0===y?void 0:y.length)>0?y.map(e=>Object(d.jsx)(k,{id:e._id,name:e.platform,password:e.password,email:e.platEmail,iv:e.iv,onDelete:_},e._id)):Object(d.jsxs)("div",{className:"nopass",children:[Object(d.jsx)("p",{children:"You have not added any passwords yet."}),Object(d.jsx)("button",{className:"modalButton",type:"button",onClick:()=>j(!0),children:"Try Adding a password now"})]})})]})};var F=function(){const e=Object(r.f)(),s=Object(l.b)();return Object(a.useEffect)(()=>{(async()=>{try{if(200!==(await O.get("/logout")).status)throw new Error("Could not logout the user.");s(g(!1)),e.replace("/signin")}catch(t){console.log(t)}})()},[e,s]),Object(d.jsx)("div",{className:"logout",children:"Logging you out..."})};var L=function(){const e=Object(l.c)(e=>e.isAuthenticated),s=Object(l.b)();return Object(a.useEffect)(()=>{(async()=>{try{const e=await m();if(200!==e.status)s(g(!1));else{const{name:t,email:a,passwords:c}=e.data;s(g(!0)),s((e=>({type:"SET_NAME",payload:e}))(t)),s((e=>({type:"SET_EMAIL",payload:e}))(a)),s(v(c))}}catch(e){console.log(e)}})()},[e,s]),Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(N,{}),Object(d.jsxs)(r.c,{children:[Object(d.jsxs)(r.a,{exact:!0,path:"/",children:[" ",Object(d.jsx)(j,{})," "]}),Object(d.jsxs)(r.a,{exact:!0,path:"/signin",children:[" ",Object(d.jsx)(w,{})," "]}),Object(d.jsxs)(r.a,{exact:!0,path:"/signup",children:[" ",Object(d.jsx)(E,{})," "]}),Object(d.jsxs)(r.a,{exact:!0,path:"/passwords",children:[" ",Object(d.jsx)(P,{})," "]}),Object(d.jsxs)(r.a,{exact:!0,path:"/logout",children:[" ",Object(d.jsx)(F,{})," "]})]})]})})},T=t(40);const q={isAuthenticated:!1,name:"",email:"",passwords:[]};var D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"SET_AUTH":return Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:s.payload});case"SET_NAME":return Object(b.a)(Object(b.a)({},e),{},{name:s.payload});case"SET_EMAIL":return Object(b.a)(Object(b.a)({},e),{},{email:s.payload});case"SET_PASSWORDS":return Object(b.a)(Object(b.a)({},e),{},{passwords:s.payload});case"DEL_PASS":return Object(b.a)(Object(b.a)({},e),{},{passwords:e.passwords.filter(e=>e._id!==s.payload)});default:return e}};const U=Object(T.a)(D);o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(l.a,{store:U,children:Object(d.jsx)(L,{})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.9617fb91.chunk.js.map